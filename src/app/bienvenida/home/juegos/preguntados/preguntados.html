<app-nav></app-nav>

<div class="container py-5">
  @if(inicio){
    <div class="card bg-dark text-white text-center shadow-lg p-4 mb-5">
      <div class="card-body">
        <h2 class="card-title display-4 mb-3 text-warning">¡Bienvenido a Preguntados!</h2>
        <h3 class="card-subtitle text-light mb-4">Elige el modo de juego</h3>
        <div class="d-grid gap-3 col-md-6 mx-auto">
          <button class="btn btn-primary btn-lg" (click)="conVida()">
             5 vidas
          </button>
          <button class="btn btn-info btn-lg" (click)="sinVida()">
             Vidas infinitas
          </button>
        </div>
      </div>
    </div>
  }

  @if(!inicio){
    <div class="card bg-dark text-white shadow-lg p-4">
      <div class="card-body">
        @if(lives){
          <div class="text-center mb-4">
            <p class="h4 text-danger">Vidas restantes: <span class="badge bg-danger">{{vidas}}</span></p>
          </div>
        }
        <div class="text-center mb-4">
            <p class="h4 text-warning">Puntaje: <span class="badge bg-warning">{{puntaje}}</span></p>
          </div>

        @if(!perdido && !ganaste){
          @if (preguntaActual) {
            <div class="text-center mb-4">
              <h3 class="card-title h2 text-light mb-4">{{ preguntaActual.pregunta }}</h3>
              <ul class="list-unstyled d-grid gap-3 col-md-8 mx-auto">
                @for (opcion of preguntaActual.opciones; track $index) {
                  <li>
                    <button class="btn btn-outline-light btn-lg w-100 py-3" (click)="respuesta(opcion)">
                      {{ opcion }}
                    </button>
                  </li>
                }
              </ul>
            </div>
          }}
        
        @if(perdido) {
          <div class="text-center alert alert-danger mt-4" role="alert">
            <p class="lead">Perdiste el juego.</p>
            <hr>
            <p class="mb-0">Intentalo de nuevo para mejorar tu puntuación.</p>
            </div>
        }

        @if(ganaste){
          <div class="text-center bg-success mt-4" role="alert">
            <p class="lead">Ganaste el juego.</p>
            <hr>
            <p class="mb-0">Intentalo de nuevo para mejorar tu puntuación.</p>
            </div>
        }
      </div>
    </div>
  }

  <div class="text-center mt-5">
    <a routerLink="/ranking-preguntados" class="btn btn-dark btn-lg">
       Ver Ranking
    </a>
  </div>
</div>